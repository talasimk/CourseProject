@using App1.Models
@model App1.Models.Worker

@{
    ViewBag.Title = "Details";
}

<h2>Подробности</h2>

<div>
    <h4>Работник</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Passport)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Passport)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Specialization)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Specialization)
        </dd>

    </dl>
    <div class="display-label"><b>Проекты</b></div>
    <ul>
        @foreach (Project p in Model.Projects)
        {
            <li>@p.Name</li>
            foreach (Task t in p.Tasks.Where(t => t.Worker_Id == Model.Id))
            {
                <ul>
                    <li>@t.Name</li>
                </ul>

            }
        }
    </ul>
</div>
<p>
    @Html.ActionLink("Редактировать", "Edit", new { id = Model.Id }, new { @class = "btn btn-warning" })

    @Html.ActionLink("Сохранить отчет", "CreateDoc", new { id = Model.Id }, new { @class = "btn btn-info" })
    @Html.ActionLink("Вернуться к списку", "Index", new { @class = "btn btn-success" })
</p>
